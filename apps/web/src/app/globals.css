@tailwind base;
@tailwind components;
@tailwind utilities;

/* n8n Dark Theme Variables */
:root {
  --n8n-bg-dark: #1a1a1a;
  --n8n-bg-darker: #0d0d0d;
  --n8n-bg-card: #262626;
  --n8n-bg-sidebar: #181818;
  --n8n-border: #3d3d3d;
  --n8n-primary: #ff6d5a;
  --n8n-text: #ffffff;
  --n8n-text-muted: #a3a3a3;
  --n8n-text-dim: #737373;
}

/* Base styles */
html {
  color-scheme: dark;
}

body {
  @apply bg-n8n-bg-dark text-n8n-text font-sans antialiased;
  min-height: 100vh;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-n8n-bg-darker;
}

::-webkit-scrollbar-thumb {
  @apply bg-n8n-border rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-n8n-border-light;
}

/* Selection */
::selection {
  @apply bg-n8n-primary/30 text-n8n-text;
}

/* Focus ring */
*:focus {
  outline: none;
}

*:focus-visible {
  @apply ring-2 ring-n8n-primary/50 ring-offset-0;
}

/* React Flow Custom Styles - n8n Theme */
.react-flow {
  @apply bg-n8n-bg-dark;
}

.react-flow__background {
  @apply bg-n8n-bg-dark;
}

.react-flow__background pattern circle {
  fill: #2a2a2a;
}

.react-flow__node {
  cursor: grab;
}

.react-flow__node:active {
  cursor: grabbing;
}

.react-flow__handle {
  @apply transition-all duration-200;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 2px solid #262626;
}

.react-flow__handle:hover {
  transform: scale(1.3);
}

.react-flow__handle-left {
  left: -6px;
}

.react-flow__handle-right {
  right: -6px;
}

.react-flow__edge-path {
  stroke: #4a4a4a;
  stroke-width: 2;
}

.react-flow__edge.selected .react-flow__edge-path,
.react-flow__edge:focus .react-flow__edge-path,
.react-flow__edge:focus-visible .react-flow__edge-path {
  stroke: #ff6d5a;
}

.react-flow__edge.animated .react-flow__edge-path {
  stroke-dasharray: 5;
  animation: dashdraw 0.5s linear infinite;
}

@keyframes dashdraw {
  from {
    stroke-dashoffset: 10;
  }
}

/* Controls */
.react-flow__controls {
  @apply bg-n8n-bg-card border border-n8n-border rounded-lg overflow-hidden shadow-n8n;
}

.react-flow__controls button {
  @apply bg-n8n-bg-card border-none text-n8n-text-muted hover:bg-n8n-bg-card-hover hover:text-n8n-text transition-colors;
  width: 28px;
  height: 28px;
}

.react-flow__controls button svg {
  @apply fill-current;
}

.react-flow__controls button:hover svg {
  @apply fill-current;
}

/* MiniMap */
.react-flow__minimap {
  @apply bg-n8n-bg-card border border-n8n-border rounded-lg overflow-hidden shadow-n8n;
}

.react-flow__minimap-mask {
  fill: rgba(0, 0, 0, 0.3);
}

/* Node types indicator classes */
.node-trigger {
  --node-color: #9b59b6;
}

.node-action {
  --node-color: #3498db;
}

.node-logic {
  --node-color: #e67e22;
}

.node-transform {
  --node-color: #2ecc71;
}

.node-data {
  --node-color: #1abc9c;
}

/* Sidebar styles */
.sidebar-node-item {
  @apply flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-grab bg-n8n-bg-card hover:bg-n8n-bg-card-hover border border-transparent hover:border-n8n-border transition-all duration-200;
}

.sidebar-node-item:active {
  @apply cursor-grabbing scale-95;
}

/* Input styles */
.n8n-input {
  @apply w-full px-3 py-2 text-sm rounded-lg bg-n8n-bg-input border border-n8n-border text-n8n-text placeholder:text-n8n-text-dim focus:border-n8n-primary focus:ring-1 focus:ring-n8n-primary/30 transition-all duration-200;
}

/* Button styles */
.n8n-btn {
  @apply px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 flex items-center gap-2;
}

.n8n-btn-primary {
  @apply n8n-btn bg-n8n-primary text-white hover:bg-n8n-primary-hover shadow-n8n hover:shadow-n8n-lg;
}

.n8n-btn-secondary {
  @apply n8n-btn bg-n8n-bg-card text-n8n-text border border-n8n-border hover:bg-n8n-bg-card-hover hover:border-n8n-border-light;
}

/* Panel styles */
.n8n-panel {
  @apply bg-n8n-bg-sidebar border-r border-n8n-border;
}

.n8n-card {
  @apply bg-n8n-bg-card border border-n8n-border rounded-lg;
}